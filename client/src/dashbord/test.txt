import React, { useState } from 'react';
import { FaUser } from 'react-icons/fa';
import Calendar from 'react-calendar';
import 'react-calendar/dist/Calendar.css';

function Profile() {

  const [formData, setFormData] = useState({
    fullName: '',
    address: '',
    dob: '',
    nic: '',
    telephone: '',
    weight: '',
    height: ''
  });

  const handleChange = (event) => {
    setFormData({
      ...formData,
      [event.target.name]: event.target.value,
    });
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    const token = localStorage.getItem('usersdatatoken');

    const response = await fetch('/user/profile', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        Authorization: token,
      },
      body: JSON.stringify(formData),
    });

    const data = await response.json();
    console.log(data);
  };

//calender
  const [date, setDate] = useState(new Date());

  const handleDateChange = (date) => {
    setDate(date);
  };


  return (
    <div className='bg-blue-500 flex rounded-lg min-h-screen'>
      {/* First window */}
      <div className='w-3/4 rounded-l-lg bg-green-500 p-8'>
        <div className='flex justify-center items-center mb-8'>
          <FaUser className='text-4xl mr-4' />
          <h1 className='text-4xl font-bold'>Profile Details</h1>
        </div>
        <div>
        <form onSubmit={handleSubmit}>
        <div>
          <label htmlFor='fullName'>Full Name</label>
          <input
            type='text'
            name='fullName'
            value={formData.fullName}
            onChange={handleChange}
          />
        </div>
        <div>
          <label htmlFor='address'>Address</label>
          <input
            type='text'
            name='address'
            value={formData.address}
            onChange={handleChange}
          />
        </div>
        <div>
          <label htmlFor='dob'>Date of Birth</label>
          <input
            type='date'
            name='dob'
            value={formData.dob}
            onChange={handleChange}
          />
        </div>
        <div>
          <label htmlFor='nic'>National Identification Card</label>
          <input
            type='text'
            name='nic'
            value={formData.nic}
            onChange={handleChange}
          />
        </div>
        <div>
          <label htmlFor='telephone'>Telephone</label>
          <input
            type='text'
            name='telephone'
            value={formData.telephone}
            onChange={handleChange}
          />
        </div>
        <div>
          <label htmlFor='weight'>Weight</label>
          <input
            type='number'
            name='weight'
            value={formData.weight}
            onChange={handleChange}
          />
        </div>
        <div>
          <label htmlFor='height'>Height</label>
          <input
            type='number'
            name='height'
            value={formData.height}
            onChange={handleChange}
          />
        </div>
        <button type='submit' className='bg-blue-500'>Save</button>
      </form>
        </div>
      </div>
      {/* Second window */}
      <div className='w-1/4 rounded-r-lg bg-red-400 p-8'>
        <div className='flex flex-col justify-center items-center'>
          
          <Calendar value={date} onChange={handleDateChange} />
          <button className='bg-blue-500 text-white font-bold py-2 px-4 rounded mt-4'>Add Data</button>
          <button className='bg-blue-500 text-white font-bold py-2 px-4 rounded mt-2'>Update Data</button>
        </div>
      </div>
    </div>
  );
}

export default Profile;
